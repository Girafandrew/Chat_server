<!DOCTYPE html>
<html>
<head>
    <title>Chat App</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="main.js"></script>
</head>
<body>
    <h1>Chat App</h1>
    <div id="chat">
        <div id="messages"></div>
        <form id="message-form">
            <input type="text" id="input-message" placeholder="Digite sua mensagem...">
            <button type="submit">Enviar</button>
        </form>
    </div>
    <script>
        const socket = io(); // Connect to the WebSocket server
        const messageForm = document.getElementById('message-form');
        const messageInput = document.getElementById('input-message');
        const messagesContainer = document.getElementById('messages');

        messageForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const message = messageInput.value;
            if (message.trim() !== '') {
                socket.emit('message', { message: message });
                messageInput.value = '';
            }
        });

        socket.on('message', function(data) {
            const { username, message, timestamp } = data;
            const formattedTimestamp = new Date(timestamp).toLocaleString();
            const messageElement = document.createElement('div');
            messageElement.innerHTML = `<strong>${username} (${formattedTimestamp}):</strong> ${message}`;
            messagesContainer.appendChild(messageElement);
        });
    </script>
</body>
</html>
